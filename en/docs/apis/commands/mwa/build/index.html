<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=0.86,maximum-scale=3,minimum-scale=0.86">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<link rel="alternate" type="application/rss+xml" href="/en/blog/rss.xml" title="Modern.js - 现代 Web 工程体系 Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/en/blog/atom.xml" title="Modern.js - 现代 Web 工程体系 Blog Atom Feed">

              <script>!function(e,r,n,t,s,o,a,i,c,l,d,f,m,p){o="precollect",a="getAttribute",i="addEventListener",(l=function(e){(d=[].slice.call(arguments)).push(Date.now(),location.href),(e==o?l.p.a:l.q).push(d)}).q=[],l.p={a:[]},e[s]=l,(f=document.createElement("script")).src=n+"?bid=modernjs_dev&globalName="+s,f.crossorigin=n.indexOf("sdk-web")>0?"anonymous":"use-credentials",r.getElementsByTagName("head")[0].appendChild(f),i in e&&(l.pcErr=function(r){r=r||e.event,(m=r.target||r.srcElement)instanceof Element||m instanceof HTMLElement?m[a]("integrity")?e[s](o,"sri",m[a]("href")||m[a]("src")):e[s](o,"st",{tagName:m.tagName,url:m[a]("href")||m[a]("src")}):e[s](o,"err",r.error)},l.pcRej=function(r){r=r||e.event,e[s](o,"err",r.reason||r.detail&&r.detail.reason)},e[i]("error",l.pcErr,!0),e[i]("unhandledrejection",l.pcRej,!0)),"PerformanceLongTaskTiming"in e&&((p=l.pp={entries:[]}).observer=new PerformanceObserver((function(e){p.entries=p.entries.concat(e.getEntries)})),p.observer.observe({entryTypes:["longtask","largest-contentful-paint","layout-shift"]}))}(window,document,"https://lf3-short.bytegoofy.com/slardar/fe/sdk-web/browser.cn.js",0,"Slardar")</script>
              

              <script>window.Slardar("init",{bid:"modernjs_dev"}),window.Slardar("start")</script><title data-react-helmet="true">build | Modern.js - 现代 Web 工程体系</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://modernjs.dev//en/docs/apis/commands/mwa/build"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="build | Modern.js - 现代 Web 工程体系"><meta data-react-helmet="true" name="description" content="`bash"><meta data-react-helmet="true" property="og:description" content="`bash"><link data-react-helmet="true" rel="shortcut icon" href="/en/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://modernjs.dev//en/docs/apis/commands/mwa/build"><link data-react-helmet="true" rel="alternate" href="https://modernjs.dev//en/docs/apis/commands/mwa/build" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://modernjs.dev//docs/apis/commands/mwa/build" hreflang="zh-cn"><link data-react-helmet="true" rel="alternate" href="https://modernjs.dev//docs/apis/commands/mwa/build" hreflang="x-default"><link rel="stylesheet" href="//lf-cdn-tos.bytescm.com/obj/static/webinfra/modern-js-website/assets/css/styles.73bb4626.css">
<link rel="preload" href="//lf-cdn-tos.bytescm.com/obj/static/webinfra/modern-js-website/assets/js/runtime~main.a22852dc.js" as="script">
<link rel="preload" href="//lf-cdn-tos.bytescm.com/obj/static/webinfra/modern-js-website/assets/js/main.06770004.js" as="script">
</head>
<body itemscope="" itemtype="http://schema.org/Organization">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_V1Ig">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbarHideable_2J4B"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/en/"><img src="https://lf-cdn-tos.bytescm.com/obj/static/webinfra/modern-js-website/assets/images/images/modernjs-logo.svg" alt="Modernjs Logo" class="themedImage_42gu themedImage--light_-FJF navbar__logo"><img src="https://lf-cdn-tos.bytescm.com/obj/static/webinfra/modern-js-website/assets/images/images/modernjs-logo.svg" alt="Modernjs Logo" class="themedImage_42gu themedImage--dark_p0fW navbar__logo"></a><a class="navbar__item navbar__link" href="/en/docs/start/mobile">开始</a><a class="navbar__item navbar__link" href="/en/docs/guides/overview">指南</a><a class="navbar__item navbar__link navbar__link--active" href="/en/docs/apis/overview">API</a><a class="navbar__item navbar__link" href="/en/blog">博客</a><a class="navbar__item navbar__link" href="/en/coming-soon">社区</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/modern-js-dev/modern.js" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="react-toggle toggle_91lq react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_P1Jd">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_P1Jd">🌞</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="navbar__search searchBarContainer_0B71"><input placeholder="搜索" aria-label="Search" class="navbar__search-input"><div class="loadingRing_2Ffh searchBarLoadingRing_nyLg"><div></div><div></div><div></div><div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_aEDd"><button class="clean-btn backToTopButton_N4sD" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_mm6A"><div class="sidebar_khEP sidebarWithHideableNavbar_j1mR"><a tabindex="-1" class="sidebarLogo_2ggo" href="/en/"><img src="https://lf-cdn-tos.bytescm.com/obj/static/webinfra/modern-js-website/assets/images/images/modernjs-logo.svg" alt="Modernjs Logo" class="themedImage_42gu themedImage--light_-FJF"><img src="https://lf-cdn-tos.bytescm.com/obj/static/webinfra/modern-js-website/assets/images/images/modernjs-logo.svg" alt="Modernjs Logo" class="themedImage_42gu themedImage--dark_p0fW"></a><nav class="menu thin-scrollbar menu_2Snv menuWithAnnouncementBar_RH5t"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/en/docs/apis/overview">概览</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">命令</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/apis/commands/overview">概览</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">应用工程方案</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/apis/commands/mwa/dev">dev</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/apis/commands/mwa/new">new</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/apis/commands/mwa/test">test</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/apis/commands/mwa/lint">lint</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/en/docs/apis/commands/mwa/build">build</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/apis/commands/mwa/start">start</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">模块工程方案</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">项目组工程方案</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">工具</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist" href="#">文件约定</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/apis/hooks/overview">概览</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">应用工程方案</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">模块工程方案</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">项目组工程方案</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist" href="#">运行时</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/apis/runtime/overview">概览</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/apis/runtime/default-alias">默认别名</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/apis/runtime/env">环境变量</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">App API</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">BFF Server API</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Model API</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Container API</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Testing API</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Web Server API</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Utility API</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Electron API</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">插件 API</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist" href="#">配置</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/apis/config/overview">概览</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/apis/config/usage">配置使用</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">source (源文件)</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">output (构建产物)</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">runtime (运行时)</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">server (服务器)</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">bff (BFF API)</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">electron (Electron)</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">dev (开发调试)</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">testing (测试)</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/apis/config/plugins">plugins (框架插件)</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">tools (底层配置)</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist" href="#">定制化工程方案</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/apis/generator/overview">概览</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">工程方案配置</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">生成器插件 API</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_Ip-H"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_JYLG"><div class="docItemContainer_Cd72"><article><div class="tocCollapsible_e0fj theme-doc-toc-mobile tocMobile_gb6b"><button type="button" class="clean-btn tocCollapsibleButton_qgJ+">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>build</h1></header><div class="codeBlockContainer_jc-l"><div class="codeBlockContent_tuqo bash"><pre tabindex="0" class="prism-code language-bash codeBlock_PyJw thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_R9XP"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Usage: modern build </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">options</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">build application</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Options:</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  -h, --help  display </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">help</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">command</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_BSlu clean-btn">Copy</button></div></div><p><code>modern build</code> 命令默认会在 <code>/dist</code> 目录下构建出可用于生产环境的产物。</p><p>可以通过修改配置 <a href="/en/docs/apis/config/output/path"><code>output.path</code></a> 指定产物的输出目录。</p><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>提示</h5></div><div class="admonition-content"><p>Yarn 和 pnpm 调用命令时接收参数的方式不同，例如，在如下 <code>package.json</code> 配置中：</p><div class="codeBlockContainer_jc-l"><div class="codeBlockContent_tuqo json"><pre tabindex="0" class="prism-code language-json codeBlock_PyJw thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_R9XP"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;scripts&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;command&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;modern command&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_BSlu clean-btn">Copy</button></div></div><p>当需要执行 <code>modern command --option</code>：</p><p>使用 Yarn 时，需要执行 <code>yarn command --option</code>。</p><p>使用 pnpm 时，需要执行 <code>pnpm run command -- --option</code>。</p><p>这是因为 pnpm 对于命令参数的处理与 Yarn 并不相同，但是与 npm 类似：在不加 <code>--</code> 字符串的时候，传递的是 pnpm 的参数；在使用 <code>--</code> 字符串的时候，传递的是执行脚本的参数。</p><p>在上述例子里参数 <code>--option</code> 传递给了 <code>modern command</code>。如果执行 <code>pnpm run command --option</code>，则参数 <code>--option</code> 将传递给 pnpm。</p><p>总结来说：</p><p><strong>在使用 pnpm 时，如果传递的参数给 pnpm，不需要加 <code>--</code>；如果传递的参数是给脚本使用，需要增加 <code>--</code> 字符串</strong>。</p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithHideOnScrollNavbar_5hzM" id="electron-应用"></a>Electron 应用<a class="hash-link" href="#electron-应用" title="Direct link to heading">#</a></h2><p>Modern.js 提供了基于 Electron 的桌面应用开发模式。</p><p>可以在项目创建时选择:</p><div class="codeBlockContainer_jc-l"><div class="codeBlockContent_tuqo bash"><pre tabindex="0" class="prism-code language-bash codeBlock_PyJw thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_R9XP"><span class="token-line" style="color:#bfc7d5"><span class="token plain">? 是否需要支持以下类型应用 Electron</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_BSlu clean-btn">Copy</button></div></div><p>也可在项目执行 <code>new</code> 命令启用「Electron」模式：</p><div class="codeBlockContainer_jc-l"><div class="codeBlockContent_tuqo bash"><pre tabindex="0" class="prism-code language-bash codeBlock_PyJw thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_R9XP"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ npx modern new</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">? 请选择你想要的操作 启用可选功能</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">? 启用可选功能 启用「Electron」模式</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_BSlu clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_5hzM" id="build-electron-web"></a>build electron-web<a class="hash-link" href="#build-electron-web" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_jc-l"><div class="codeBlockContent_tuqo bash"><pre tabindex="0" class="prism-code language-bash codeBlock_PyJw thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_R9XP"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Usage: modern build electron-web </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">options</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">build electron renderer with node environment</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Options:</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  -h, --help  display </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">help</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">command</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_BSlu clean-btn">Copy</button></div></div><p>窗口中开启 Node 时构建渲染进程。</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithHideOnScrollNavbar_5hzM" id="示例"></a>示例<a class="hash-link" href="#示例" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_jc-l"><div class="codeBlockContent_tuqo json"><pre tabindex="0" class="prism-code language-json codeBlock_PyJw thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_R9XP"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;scripts&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;build:render&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;modern build electron-web&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_BSlu clean-btn">Copy</button></div></div><p>在 Electron 中，项目下执行：<code>build:render</code> 命令，构建渲染进程（窗口中启用 Node）。</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>补充信息</h5></div><div class="admonition-content"><p>关于窗口中【<a href="/en/docs/guides/features/electron/develop#%E7%AA%97%E5%8F%A3%E4%B8%AD%E5%BC%80%E5%90%AF-node">开启 Node</a>】。</p></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_5hzM" id="build-electron-main"></a>build electron-main<a class="hash-link" href="#build-electron-main" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_jc-l"><div class="codeBlockContent_tuqo bash"><pre tabindex="0" class="prism-code language-bash codeBlock_PyJw thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_R9XP"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Usage: modern build electron-main </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">options</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">build electron main process</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Options:</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  -d, --development       build with </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">NODE_ENV</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">development</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  -m, --main </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">main</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain">       specify the entrance folder path of main process, such as: electron/</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  -i, --ignore </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">ignore</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain">   ignore folder or </span><span class="token function" style="color:rgb(130, 170, 255)">file</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  -e, --extra </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">extra</span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token plain">.</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain">  specify extra folders to compile</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  -en, --enableNode       </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">enable</span><span class="token plain"> use node </span><span class="token keyword" style="font-style:italic">in</span><span class="token plain"> electron render</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  -h, --help              display </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">help</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">command</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_BSlu clean-btn">Copy</button></div></div><p>构建主进程。</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithHideOnScrollNavbar_5hzM" id="示例---普通构建"></a>示例 - 普通构建<a class="hash-link" href="#示例---普通构建" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_jc-l"><div class="codeBlockContent_tuqo json"><pre tabindex="0" class="prism-code language-json codeBlock_PyJw thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_R9XP"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;scripts&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;build:main&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;modern build electron-main&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_BSlu clean-btn">Copy</button></div></div><p>在 Electron 中，项目下执行：<code>build:main</code> 命令，构建主进程。</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithHideOnScrollNavbar_5hzM" id="示例---指定主进程目录"></a>示例 - 指定主进程目录<a class="hash-link" href="#示例---指定主进程目录" title="Direct link to heading">#</a></h4><p>打包的时候，我们也可以通过 <code>--main</code> 指定我们的主进程目录。</p><div class="codeBlockContainer_jc-l"><div class="codeBlockContent_tuqo json"><pre tabindex="0" class="prism-code language-json codeBlock_PyJw thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_R9XP"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;scripts&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;build:main&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;modern build electron-main --main ./electron&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_BSlu clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithHideOnScrollNavbar_5hzM" id="示例---指定其他编译目录"></a>示例 - 指定其他编译目录<a class="hash-link" href="#示例---指定其他编译目录" title="Direct link to heading">#</a></h4><p>打包的时候，我们在主进程里引用了其他目录，则可以如下进行构建：</p><p>比如： 主进程使用了 shared 目录。</p><div class="codeBlockContainer_jc-l"><div class="codeBlockContent_tuqo bash"><pre tabindex="0" class="prism-code language-bash codeBlock_PyJw thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_R9XP"><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;scripts&quot;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;build:main&quot;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;modern build electron-main --extra ./shared&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_BSlu clean-btn">Copy</button></div></div><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>由于主进程目前采用的是 babel 构建，维持主进程目录结构。因此，在构建起他目录的时候，需要通过 --extra 进行额外的指定。</p></div></div><blockquote><p>详细示例：<a href="/en/docs/guides/features/electron/extra/compile-extra">主进程构建</a></p></blockquote><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithHideOnScrollNavbar_5hzM" id="示例---忽略不需要编译的文件"></a>示例 - 忽略不需要编译的文件<a class="hash-link" href="#示例---忽略不需要编译的文件" title="Direct link to heading">#</a></h4><p>我们可以通过指定 “--ignore” 忽略不需要编译的文件。</p><div class="codeBlockContainer_jc-l"><div class="codeBlockContent_tuqo json"><pre tabindex="0" class="prism-code language-json codeBlock_PyJw thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_R9XP"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;scripts&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;build:main&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;modern build electron-main --ignore electron/xx.ts,electron/xxx.ts&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_BSlu clean-btn">Copy</button></div></div><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>补充信息</h5></div><div class="admonition-content"><p>&quot;--ignore&quot; 也可以填写文件夹，多个可以逗号隔开。</p></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_5hzM" id="build-electron-app"></a>build electron-app<a class="hash-link" href="#build-electron-app" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_jc-l"><div class="codeBlockContent_tuqo bash"><pre tabindex="0" class="prism-code language-bash codeBlock_PyJw thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_R9XP"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Usage: modern build electron-app </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">options</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">build electron app</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Options:</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  -h, --help  display </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">help</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">command</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_BSlu clean-btn">Copy</button></div></div><p>打包应用。</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithHideOnScrollNavbar_5hzM" id="示例-1"></a>示例<a class="hash-link" href="#示例-1" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_jc-l"><div class="codeBlockContent_tuqo json"><pre tabindex="0" class="prism-code language-json codeBlock_PyJw thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_R9XP"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;scripts&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;build:app&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;modern build electron-app&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_BSlu clean-btn">Copy</button></div></div><p>在构建完成主进程、渲染进程之后，执行此命令，打包成可执行文件与安装程序。</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>补充信息</h5></div><div class="admonition-content"><ul><li>其中，可在执行打包时传入环境变量 <code>PLATFORM</code> 指定构建的操作系统。</li><li><code>PLATFORM</code> 可为 <code>mac</code>、<code>win32</code>、<code>win64</code>、<code>linux</code>、<code>linuxArm64</code> 其中一个。</li></ul></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_5hzM" id="build-electron"></a>build electron<a class="hash-link" href="#build-electron" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_jc-l"><div class="codeBlockContent_tuqo bash"><pre tabindex="0" class="prism-code language-bash codeBlock_PyJw thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_R9XP"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Usage: modern build electron </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">options</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">build electron all: render process、main process and electron app</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Options:</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  -d, --development       build with </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">NODE_ENV</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">development</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  -m, --main </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">main</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain">       specify the entrance folder path of main process, such as: electron/</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  -i, --ignore </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">ignore</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain">   ignore folder or </span><span class="token function" style="color:rgb(130, 170, 255)">file</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  -e, --extra </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">extra</span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token plain">.</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain">  specify extra folders to compile</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  -en, --enableNode       </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">enable</span><span class="token plain"> use node </span><span class="token keyword" style="font-style:italic">in</span><span class="token plain"> electron render</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  -h, --help              display </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">help</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">command</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">一行命令构建：渲染进程、主进程、应用。</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">```json</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;scripts&quot;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;build:all&quot;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;modern build electron&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_BSlu clean-btn">Copy</button></div></div><p>通过上述命令，会顺序构建渲染进程、主进程，打包应用。</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>补充信息</h5></div><div class="admonition-content"><ul><li>其中，可在执行打包时传入环境变量 <code>PLATFORM</code> 指定构建的操作系统。</li><li><code>PLATFORM</code> 可为 <code>mac</code>、<code>win32</code>、<code>win64</code>、<code>linux</code>、<code>linuxArm64</code> 其中一个。</li></ul></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithHideOnScrollNavbar_5hzM" id="示例--debug-模式构建"></a>示例 -【DEBUG 模式】构建<a class="hash-link" href="#示例--debug-模式构建" title="Direct link to heading">#</a></h4><p>有时候我们期望打一些 DEBUG 包，其中的 js 没有被混淆压缩，我们可以这样：</p><div class="codeBlockContainer_jc-l"><div class="codeBlockContent_tuqo json"><pre tabindex="0" class="prism-code language-json codeBlock_PyJw thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_R9XP"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;scripts&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;build:all&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;modern build electron --development&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_BSlu clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithHideOnScrollNavbar_5hzM" id="示例-指定主进程目录"></a>示例-指定主进程目录<a class="hash-link" href="#示例-指定主进程目录" title="Direct link to heading">#</a></h4><p>打包的时候，我们也可以指定我们的主进程目录。</p><div class="codeBlockContainer_jc-l"><div class="codeBlockContent_tuqo json"><pre tabindex="0" class="prism-code language-json codeBlock_PyJw thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_R9XP"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;scripts&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;build:all&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;modern build electron --main ./electron&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_BSlu clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithHideOnScrollNavbar_5hzM" id="示例---启用-node-构建渲染进程"></a>示例 - 启用 Node 构建渲染进程<a class="hash-link" href="#示例---启用-node-构建渲染进程" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_jc-l"><div class="codeBlockContent_tuqo json"><pre tabindex="0" class="prism-code language-json codeBlock_PyJw thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_R9XP"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;scripts&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;build:all&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;modern build electron --enableNode&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_BSlu clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithHideOnScrollNavbar_5hzM" id="示例-忽略不需要编译的文件"></a>示例-忽略不需要编译的文件<a class="hash-link" href="#示例-忽略不需要编译的文件" title="Direct link to heading">#</a></h4><p>我们可以通过指定 “--ignore” 忽略不需要编译的文件。</p><div class="codeBlockContainer_jc-l"><div class="codeBlockContent_tuqo json"><pre tabindex="0" class="prism-code language-json codeBlock_PyJw thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_R9XP"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;scripts&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;build:all&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;modern build electron --ignore electron/xx.ts,electron/xxx.ts&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_BSlu clean-btn">Copy</button></div></div><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>补充信息</h5></div><div class="admonition-content"><p>&quot;--ignore&quot; 也可以填写文件夹，多个可以逗号隔开。</p></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/en/docs/apis/commands/mwa/lint"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« lint</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/en/docs/apis/commands/mwa/start"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">start »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_wVlX thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#electron-应用" class="table-of-contents__link">Electron 应用</a><ul><li><a href="#build-electron-web" class="table-of-contents__link">build electron-web</a></li><li><a href="#build-electron-main" class="table-of-contents__link">build electron-main</a></li><li><a href="#build-electron-app" class="table-of-contents__link">build electron-app</a></li><li><a href="#build-electron" class="table-of-contents__link">build electron</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">使用指南</div><ul class="footer__items"><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/en/docs/start/mobile">快速上手</a></li><li class="footer__item"><a class="footer__link-item" href="/en/docs/guides/tutorials/overview">实战教程</a></li><li class="footer__item"><a class="footer__link-item" href="/en/docs/guides/usages/eslint">更多用法</a></li><li class="footer__item"><a class="footer__link-item" href="/en/docs/guides/features/runtime/code-spliting">专题详解</a></li></ul></ul></div><div class="col footer__col"><div class="footer__title">API 资料</div><ul class="footer__items"><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/en/docs/apis/commands/overview">命令</a></li><li class="footer__item"><a class="footer__link-item" href="/en/docs/apis/runtime/overview">运行时</a></li><li class="footer__item"><a class="footer__link-item" href="/en/docs/apis/hooks/overview">文件约定</a></li><li class="footer__item"><a class="footer__link-item" href="/en/docs/apis/config/overview">配置选项</a></li></ul></ul></div><div class="col footer__col"><div class="footer__title">关注我们</div><ul class="footer__items"><ul class="footer__items footerItemIcons_L3RU"><a class="footer__item footerItemIcon_9u-Q"><img width="32" height="32" src="https://lf3-static.bytednsdoc.com/obj/eden-cn/aphqeh7uhohpquloj/modern-js/icons/weixin.png"><span class="qrcodeWrap_pGOd" style="display:none"><img width="108" height="108" src="https://lf3-static.bytednsdoc.com/obj/eden-cn/aphqeh7uhohpquloj/modern-js/icons/weixin-qrcode.jpeg" alt="微信"></span></a><a href="https://space.bilibili.com/1195398938" class="footer__item footerItemIcon_9u-Q"><img width="32" height="32" src="https://lf3-static.bytednsdoc.com/obj/eden-cn/aphqeh7uhohpquloj/modern-js/icons/bilibili.png"></a><a class="footer__item footerItemIcon_9u-Q"><img width="32" height="32" src="https://lf3-static.bytednsdoc.com/obj/eden-cn/aphqeh7uhohpquloj/modern-js/icons/feishu.png"><span class="qrcodeWrap_pGOd" style="display:none"><img width="108" height="108" src="https://lf3-static.bytednsdoc.com/obj/eden-cn/aphqeh7uhohpquloj/modern-js/icons/feishu-qrcode.png" alt="飞书"></span></a><a href="https://github.com/modern-js-dev/modern.js" class="footer__item footerItemIcon_9u-Q"><img width="32" height="32" src="https://lf3-static.bytednsdoc.com/obj/eden-cn/aphqeh7uhohpquloj/modern-js/icons/github.png"></a></ul></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="https://lf-cdn-tos.bytescm.com/obj/static/webinfra/modern-js-website/assets/images/images/modernjs-logo.svg" alt="ByteDance Open Source Logo" class="themedImage_42gu themedImage--light_-FJF footer__logo"><img src="https://lf-cdn-tos.bytescm.com/obj/static/webinfra/modern-js-website/assets/images/images/modernjs-logo.svg" alt="ByteDance Open Source Logo" class="themedImage_42gu themedImage--dark_p0fW footer__logo"></div></div></div></footer></div>
<script src="//lf-cdn-tos.bytescm.com/obj/static/webinfra/modern-js-website/assets/js/runtime~main.a22852dc.js"></script>
<script src="//lf-cdn-tos.bytescm.com/obj/static/webinfra/modern-js-website/assets/js/main.06770004.js"></script>
</body>
</html>